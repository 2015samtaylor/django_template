{% extends 'emailscraper_app/base.html' %}
{% load static %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/landing_page.css' %}">
{% endblock %}

{% block content %}
<div class="container-fluid"> <!-- Changed to container-fluid for full-width -->
    <div class="row">
        <div class="col-md-12"> <!-- Changed to col-md-12 to take full width -->
            <div class="content-wrapper">
                <h1 class="main-heading text-center">Data Engineering Designed for Schools</h1>
                <p class="tagline text-center"><strong>We help schools organize, clean, and store data in one singular location so your organization can gain insights on what matters.</strong></p> 
                <p class="text-center">We simplify the process of data management with automated ETL data pipelines and leverage Google Cloud Platform for seamless integration and scalability <img src="https://storage.googleapis.com/django_hosting/base_images/gcp_vectorized.png" alt="Google Cloud Platform" class="gcp-image" style="width: 50px; height: auto; vertical-align: middle; margin-left: 10px;"></p></p>
           
               <!-- SVG Code -->
               <div class="svg-container">
                <svg width="900" height="500" xmlns="http://www.w3.org/2000/svg">
                    <!-- Extract -->
                    <rect x="50" y="100" width="205" height="100" fill="rgba(126, 127, 128, 1)" stroke="#000" stroke-width="2" class="extract"/>
                    <text x="150" y="150" font-size="24" font-family="Arial" fill="white" text-anchor="middle">Extract</text>
                    <text x="152" y="175" font-size="16" font-family="Arial" fill="white" text-anchor="middle">(SIS, Vendors, Testing Data)</text>
                    
                    <!-- Transform -->
                    <rect x="350" y="100" width="205" height="100" fill="rgba(126, 127, 128, 1)" stroke="#000" stroke-width="2" class="transform"/>
                    <text x="450" y="150" font-size="24" font-family="Arial" fill="white" text-anchor="middle">Transform</text>
                    <text x="450" y="175" font-size="16" font-family="Arial" fill="white" text-anchor="middle">(Processing, ETL)</text>
                    
                    <!-- Load -->
                    <rect x="650" y="100" width="205" height="100" fill="rgba(126, 127, 128, 1)" stroke="#000" stroke-width="2" class="load"/>
                    <text x="750" y="150" font-size="24" font-family="Arial" fill="white" text-anchor="middle">Load</text>
                    <text x="750" y="175" font-size="16" font-family="Arial" fill="white" text-anchor="middle">(Cloud Database)</text>
                    
                    <!-- Arrows -->
                    <line x1="255" y1="150" x2="350" y2="150" stroke="black" stroke-width="4" marker-end="url(#arrow)"/>
                    <line x1="555" y1="150" x2="650" y2="150" stroke="black" stroke-width="4" marker-end="url(#arrow)"/>
                    
                    <!-- Arrow Definition -->
                    <defs>
                        <marker id="arrow" markerWidth="12" markerHeight="10" refX="12" refY="5" orient="auto">
                            <polygon points="0 0, 12 5, 0 10" fill="black"/>
                        </marker>
                    </defs>
                </svg>
            </div> <!-- Close content-wrapper here -->  

            </div>
        </div>
    </div>
</div>

{% include "emailscraper_app/toc.html" %}

{% endblock content %}

{% block extra_js %}
{{ block.super }}
<script>
    $(document).ready(function() {
        var tocToggle = document.getElementById('toc-toggle');
        var tocContainer = document.getElementById('toc-container');
        var navbar = document.querySelector('.navbar');

        // Function to set the position of the TOC toggle button
        function setTocTogglePosition() {
            var navbarHeight = navbar.offsetHeight;
            tocToggle.style.top = (navbarHeight + 10) + 'px'; // 10px below the navbar
        }

        // Set the initial position of the TOC toggle button
        setTocTogglePosition();

        // Adjust the position of the TOC toggle button on window resize
        window.addEventListener('resize', setTocTogglePosition);

        tocToggle.addEventListener('click', function() {
            tocContainer.classList.toggle('open');
            tocToggle.classList.toggle('open');

            if (tocContainer.classList.contains('open')) {
                var tocRect = tocContainer.getBoundingClientRect();
                tocToggle.style.top = tocRect.top + 'px';
                tocToggle.style.right = '10px'; // Keep the button on the right side
                tocToggle.style.left = 'auto'; // Reset left position
                tocToggle.style.zIndex = '1000'; // Ensure the button is on top
            } else {
                setTocTogglePosition();
                tocToggle.style.left = '10px';
                tocToggle.style.right = 'auto';
                tocToggle.style.zIndex = 'auto'; // Reset z-index
            }
        });
    });
</script>
{% endblock extra_js %}

{% block footer %}
<div class="contact-content-container">
  <div class="contact-content">
      <a href="https://github.com/2015samtaylor" target="_blank" class="github-link">
          <img src="https://storage.googleapis.com/django_hosting/base_images/github-mark-white.png" alt="GitHub" class="github-logo">
      </a>

      <a href="mailto:2015samtaylor@gmail.com" class="gmail-link">
          <img src="https://storage.googleapis.com/django_hosting/base_images/gmail-icon.png" alt="email">
      </a>

      <!-- Google Calendar Appointment Scheduling begin -->
      <link href="https://calendar.google.com/calendar/scheduling-button-script.css" rel="stylesheet">
      <script src="https://calendar.google.com/calendar/scheduling-button-script.js" async></script>
      <script>
        (function() {
            var target = document.currentScript;
            window.addEventListener('load', function() {
                calendar.schedulingButton.load({
                    url: 'https://calendar.google.com/calendar/appointments/schedules/AcZssZ1YEbyOgaX3uivrz4uynx7FLP68WD7OZxcaoi2sH003T2gLao95wSfPzkUckhMAeY-mcsJ_dEj8?gv=true',
                    color: '#fff',
                    label: 'Get in Touch',
                    target,
                    className: 'custom-calendar-button' // Add custom class
                });
            });
        })();
      </script>
  </div>
</div>
{% endblock footer %}

