{% extends 'emailscraper_app/base.html' %}
{% load static %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/landing_page.css' %}">
{% endblock %}

{% block content %}
<div class="container-fluid"> <!-- Changed to container-fluid for full-width -->
    <div class="row">
        <div class="col-md-12"> <!-- Changed to col-md-12 to take full width -->
            <div class="content-wrapper">
                <!-- Problems Districts Face with Data -->
                <section id="problem-solution">
                    <h2 class="section-heading text-center">Give a further concrete example here</h2>
                    <div class="container">
                        <div class="row text-center">
                            <div class="col-md-12 problem-box">
                                <h4>Example</h4>
                                <p>Data is often isolated with different vendors, making it hard to integrate with the SIS and create scalable systems.</p>
                            </div>
                        </div>
                    </div>
                </section>
            </div> <!-- Close content-wrapper here -->  
        </div>
    </div>
</div>

{% include "emailscraper_app/toc.html" %}

{% endblock content %}

{% block extra_js %}
{{ block.super }}
<script>
    $(document).ready(function() {
        var tocToggle = document.getElementById('toc-toggle');
        var tocContainer = document.getElementById('toc-container');
        var navbar = document.querySelector('.navbar');

        // Function to set the position of the TOC toggle button
        function setTocTogglePosition() {
            var navbarHeight = navbar.offsetHeight;
            tocToggle.style.top = (navbarHeight + 10) + 'px'; // 10px below the navbar
        }

        // Set the initial position of the TOC toggle button
        setTocTogglePosition();

        // Adjust the position of the TOC toggle button on window resize
        window.addEventListener('resize', setTocTogglePosition);

        tocToggle.addEventListener('click', function() {
            tocContainer.classList.toggle('open');
            tocToggle.classList.toggle('open');

            if (tocContainer.classList.contains('open')) {
                var tocRect = tocContainer.getBoundingClientRect();
                tocToggle.style.top = tocRect.top + 'px';
                tocToggle.style.right = (window.innerWidth - tocRect.right) + 'px';
            } else {
                setTocTogglePosition();
                tocToggle.style.left = '10px';
                tocToggle.style.right = 'auto';
            }
        });
    });
</script>
{% endblock extra_js %}

{% block footer %}
<div class="contact-content-container">
  <div class="contact-content">
      <a href="https://github.com/2015samtaylor" target="_blank" class="github-link">
          <img src="https://storage.googleapis.com/django_hosting/base_images/github-mark-white.png" alt="GitHub" class="github-logo">
      </a>

      <a href="mailto:2015samtaylor@gmail.com" class="gmail-link">
          <img src="https://storage.googleapis.com/django_hosting/base_images/gmail-icon.png" alt="email">
      </a>

      <!-- Google Calendar Appointment Scheduling begin -->
      <link href="https://calendar.google.com/calendar/scheduling-button-script.css" rel="stylesheet">
      <script src="https://calendar.google.com/calendar/scheduling-button-script.js" async></script>
      <script>
        (function() {
            var target = document.currentScript;
            window.addEventListener('load', function() {
                calendar.schedulingButton.load({
                    url: 'https://calendar.google.com/calendar/appointments/schedules/AcZssZ1YEbyOgaX3uivrz4uynx7FLP68WD7OZxcaoi2sH003T2gLao95wSfPzkUckhMAeY-mcsJ_dEj8?gv=true',
                    color: '#84b371',
                    label: 'Get in Touch',
                    target,
                    className: 'custom-calendar-button' // Add custom class
                });
            });
        })();
      </script>
  </div>
</div>
{% endblock footer %}